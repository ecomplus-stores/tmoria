{"version":3,"sources":["webpack:///./node_modules/@linusborg/vue-simple-portal/dist/index.esm.js","webpack:///./node_modules/nanoid/non-secure/index.js","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/InstantSearch.scss?db19","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/InstantSearch.scss?5898","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/InstantSearch.scss","webpack:///./node_modules/@ecomplus/storefront-components/src/js/InstantSearch.js?403b","webpack:///./node_modules/@ecomplus/storefront-components/src/js/InstantSearch.js","webpack:///./node_modules/@ecomplus/storefront-components/src/InstantSearch.vue","webpack:///./node_modules/@ecomplus/storefront-components/src/html/InstantSearch.html","webpack:///./node_modules/@ecomplus/widget-search/src/index.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","config","selector","concat","size","id","i","Math","random","nanoid","setSelector","isBrowser","window","undefined","document","TargetContainer","extend","abstract","name","props","data","vm","updatedNodes","nodes","render","h","this","length","text","tag","destroyed","el","$el","parentNode","removeChild","Portal","disabled","type","Boolean","prepend","String","default","$scopedSlots","created","getTargetEl","insertTargetEl","updated","_this","$nextTick","slotFn","container","beforeDestroy","unmount","watch","immediate","handler","mount","methods","querySelector","parent","child","createElement","substring","appendChild","targetEl","firstChild","insertBefore","propsData","$destroy","install","_Vue","options","arguments","component","defaultSelector","Vue","use","content","__esModule","module","locals","exports","add","___CSS_LOADER_API_IMPORT___","push","components","ABackdrop","SearchEngine","term","isVisible","pageSize","Number","autoFixScore","searchEngineProps","Object","productCardProps","isSmall","localTerm","searchTriggerTimer","searchTerm","history","totalSearchResults","isSearching","hasSearched","computed","i19close","i18n","i19items","i19search","i19searchProducts","i19seeAll","hide","$emit","setSearchTerm","$form","parentElement","tagName","$inputs","elements","value","submit","handleFetching","fetching","finally","handleSearch","ecomSearch","getTotalCount","filter","indexOf","slice","$refs","input","focus","nextSearchTerm","clearTimeout","setTimeout","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","directives","rawName","expression","_t","ref","domProps","$event","target","composing","_v","_e","_b","assign","_s","toLowerCase","_l","preventDefault","elId","inputId","$instantSearch","getElementById","$searchInput","getScopedSlots","storefront","addEventListener","InstantSearch","scopedSlots","$mount"],"mappings":"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","file":"chunk.9a88921a23a65572aedc.js","sourcesContent":["\n/**\n * vue-simple-portal\n * version: 0.1.5,\n * (c) Thorsten Lünborg, 2021 - present\n * LICENCE: Apache-2.0\n * http://github.com/linusborg/vue-simple-portal\n*/\nimport Vue from 'vue';\nimport { nanoid } from 'nanoid/non-secure';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar config = {\n  selector: \"vue-portal-target-\".concat(nanoid())\n};\nvar setSelector = function setSelector(selector) {\n  return config.selector = selector;\n};\nvar isBrowser = typeof window !== 'undefined' && (typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) !== undefined;\n\nvar TargetContainer = Vue.extend({\n  // as an abstract component, it doesn't appear in\n  // the $parent chain of components.\n  // which means the next parent of any component rendered inside of this oen\n  // will be the parent from which is was sent\n  // @ts-expect-error\n  abstract: true,\n  name: 'PortalOutlet',\n  props: ['nodes', 'tag'],\n  data: function data(vm) {\n    return {\n      updatedNodes: vm.nodes\n    };\n  },\n  render: function render(h) {\n    var nodes = this.updatedNodes && this.updatedNodes();\n    if (!nodes) return h();\n    return nodes.length === 1 && !nodes[0].text ? nodes : h(this.tag || 'DIV', nodes);\n  },\n  destroyed: function destroyed() {\n    var el = this.$el;\n    el && el.parentNode.removeChild(el);\n  }\n});\n\nvar Portal = Vue.extend({\n  name: 'VueSimplePortal',\n  props: {\n    disabled: {\n      type: Boolean\n    },\n    prepend: {\n      type: Boolean\n    },\n    selector: {\n      type: String,\n      default: function _default() {\n        return \"#\".concat(config.selector);\n      }\n    },\n    tag: {\n      type: String,\n      default: 'DIV'\n    }\n  },\n  render: function render(h) {\n    if (this.disabled) {\n      var nodes = this.$scopedSlots && this.$scopedSlots.default();\n      if (!nodes) return h();\n      return nodes.length < 2 && !nodes[0].text ? nodes : h(this.tag, nodes);\n    }\n\n    return h();\n  },\n  created: function created() {\n    if (!this.getTargetEl()) {\n      this.insertTargetEl();\n    }\n  },\n  updated: function updated() {\n    var _this = this;\n\n    // We only update the target container component\n    // if the scoped slot function is a fresh one\n    // The new slot syntax (since Vue 2.6) can cache unchanged slot functions\n    // and we want to respect that here.\n    this.$nextTick(function () {\n      if (!_this.disabled && _this.slotFn !== _this.$scopedSlots.default) {\n        _this.container.updatedNodes = _this.$scopedSlots.default;\n      }\n\n      _this.slotFn = _this.$scopedSlots.default;\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unmount();\n  },\n  watch: {\n    disabled: {\n      immediate: true,\n      handler: function handler(disabled) {\n        disabled ? this.unmount() : this.$nextTick(this.mount);\n      }\n    }\n  },\n  methods: {\n    // This returns the element into which the content should be mounted.\n    getTargetEl: function getTargetEl() {\n      if (!isBrowser) return;\n      return document.querySelector(this.selector);\n    },\n    insertTargetEl: function insertTargetEl() {\n      if (!isBrowser) return;\n      var parent = document.querySelector('body');\n      var child = document.createElement(this.tag);\n      child.id = this.selector.substring(1);\n      parent.appendChild(child);\n    },\n    mount: function mount() {\n      if (!isBrowser) return;\n      var targetEl = this.getTargetEl();\n      var el = document.createElement('DIV');\n\n      if (this.prepend && targetEl.firstChild) {\n        targetEl.insertBefore(el, targetEl.firstChild);\n      } else {\n        targetEl.appendChild(el);\n      }\n\n      this.container = new TargetContainer({\n        el: el,\n        parent: this,\n        propsData: {\n          tag: this.tag,\n          nodes: this.$scopedSlots.default\n        }\n      });\n    },\n    unmount: function unmount() {\n      if (this.container) {\n        this.container.$destroy();\n        delete this.container;\n      }\n    }\n  }\n});\n\nfunction install(_Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  _Vue.component(options.name || 'portal', Portal);\n\n  if (options.defaultSelector) {\n    setSelector(options.defaultSelector);\n  }\n}\n\nif (typeof window !== 'undefined' && window.Vue && window.Vue === Vue) {\n  // plugin was inlcuded directly in a browser\n  Vue.use(install);\n}\n\nexport default install;\nexport { Portal, config, setSelector };\n","// This alphabet uses `A-Za-z0-9_-` symbols. The genetic algorithm helped\n// optimize the gzip compression for this alphabet.\nlet urlAlphabet =\n  'ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW'\n\nlet customAlphabet = (alphabet, size) => {\n  return () => {\n    let id = ''\n    // A compact alternative for `for (var i = 0; i < step; i++)`.\n    let i = size\n    while (i--) {\n      // `| 0` is more compact and faster than `Math.floor()`.\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  let i = size\n  while (i--) {\n    // `| 0` is more compact and faster than `Math.floor()`.\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n\nexport { nanoid, customAlphabet }\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./InstantSearch.scss?vue&type=style&index=0&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"75ad4dc5\", content, true, {});","export * from \"-!../../../../vue-style-loader/index.js!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/dist/cjs.js??ref--0-oneOf-0-3!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./InstantSearch.scss?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".search__box{z-index:1090;position:fixed;top:0;left:0;width:100vw;max-height:100vh;border-radius:0}@media (min-width:576px){.search__box{width:90vw;margin-left:5vw;max-height:90vh;margin-top:5vh;border-radius:var(--border-radius)}}@media (min-width:992px){.search__box{width:80vw;margin-left:10vw}}.search__header{position:relative;display:flex;align-items:center}.search__status .close{transition:opacity .2s}.search__status .close:not(:only-child){opacity:0}.search__spinner{position:absolute;height:2rem;width:2rem;top:50%;margin-top:-1rem;right:1rem}.search__input-group{position:relative;width:100%;padding-right:var(--spacer-3)}.search__input{padding-right:var(--spacer-5)}.search__submit{border:none;background:none;position:absolute;top:50%;margin-top:-1.25rem;right:var(--spacer-4);font-size:1.5rem;line-height:1;padding:.5rem;color:var(--secondary-lighter);transition:color .15s}.search__submit i,.search__submit svg{vertical-align:top}.search__submit:hover{color:var(--primary-light)}.search__body{overflow-y:auto;overflow-x:hidden;min-height:7rem;padding-left:0;padding-right:0}@media (min-width:576px){.search__body{padding-left:var(--spacer-2);padding-right:var(--spacer-2)}}@media (min-width:992px){.search__body{min-height:10rem}}.search__loading{display:block;height:3rem;width:3rem;margin:var(--spacer-5)}.search__footer{display:flex;align-items:center;justify-content:space-between}.search__count{color:var(--text-muted);line-height:var(--line-height-lg);min-width:250px}.search__history{overflow-x:auto;white-space:nowrap;font-weight:var(--font-light);font-size:var(--font-size-lg);color:var(--text-muted)}.search__history-link{margin-left:var(--spacer-2)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../babel-loader/lib/index.js??ref--1!./InstantSearch.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../babel-loader/lib/index.js??ref--1!./InstantSearch.js?vue&type=script&lang=js&\"","import {\n  i19close,\n  i19items,\n  i19search,\n  i19searchProducts,\n  i19seeAll\n} from '@ecomplus/i18n'\n\nimport { i18n } from '@ecomplus/utils'\nimport ABackdrop from '../ABackdrop.vue'\nimport SearchEngine from '../SearchEngine.vue'\n\nexport default {\n  name: 'InstantSearch',\n\n  components: {\n    ABackdrop,\n    SearchEngine\n  },\n\n  props: {\n    term: {\n      type: String,\n      default: ''\n    },\n    isVisible: {\n      type: Boolean,\n      default: true\n    },\n    pageSize: {\n      type: Number,\n      default: 8\n    },\n    autoFixScore: {\n      type: Number,\n      default: 0.83\n    },\n    searchEngineProps: Object,\n    productCardProps: {\n      type: Object,\n      default () {\n        return {\n          isSmall: true\n        }\n      }\n    }\n  },\n\n  data () {\n    return {\n      localTerm: this.term,\n      searchTriggerTimer: null,\n      searchTerm: '',\n      history: [],\n      totalSearchResults: 0,\n      isSearching: false,\n      hasSearched: false\n    }\n  },\n\n  computed: {\n    i19close: () => i18n(i19close),\n    i19items: () => i18n(i19items),\n    i19search: () => i18n(i19search),\n    i19searchProducts: () => i18n(i19searchProducts),\n    i19seeAll: () => i18n(i19seeAll)\n  },\n\n  methods: {\n    hide () {\n      this.$emit('update:is-visible', false)\n    },\n\n    setSearchTerm (term) {\n      const $form = this.$el.parentElement\n      if ($form && $form.tagName === 'FORM') {\n        const $inputs = $form.elements\n        for (let i = 0; i < $inputs.length; i++) {\n          if ($inputs[i].name === 'term') {\n            $inputs[i].value = term\n            break\n          }\n        }\n        $form.submit()\n      } else {\n        this.localTerm = term\n      }\n    },\n\n    handleFetching ({ fetching }) {\n      this.isSearching = true\n      fetching.finally(() => {\n        this.isSearching = false\n      })\n    },\n\n    handleSearch ({ ecomSearch }) {\n      this.totalSearchResults = ecomSearch.getTotalCount()\n      this.history = ecomSearch.history\n        .filter(term => term.length > 2 && this.localTerm.indexOf(term) === -1)\n        .slice(0, 6)\n      if (!this.hasSearched) {\n        this.hasSearched = true\n      }\n    }\n  },\n\n  watch: {\n    isVisible: {\n      handler (isVisible) {\n        if (isVisible) {\n          this.$nextTick(() => {\n            if (this.$refs.input) {\n              this.$refs.input.focus()\n            }\n          })\n        }\n      },\n      immediate: true\n    },\n\n    localTerm: {\n      handler (term) {\n        const nextSearchTerm = term.length > 2 ? term : ''\n        if (nextSearchTerm !== this.searchTerm) {\n          clearTimeout(this.searchTriggerTimer)\n          this.searchTriggerTimer = setTimeout(() => {\n            this.searchTerm = nextSearchTerm\n          }, 400)\n        }\n        this.$emit('update:term', term)\n      },\n      immediate: true\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./html/InstantSearch.html?vue&type=template&id=2fec29b6&lang=html&\"\nimport script from \"./js/InstantSearch.js?vue&type=script&lang=js&\"\nexport * from \"./js/InstantSearch.js?vue&type=script&lang=js&\"\nimport style0 from \"./scss/InstantSearch.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('a-backdrop',{attrs:{\"is-visible\":_vm.isVisible},on:{\"hide\":_vm.hide}}),_c('transition',{attrs:{\"enter-active-class\":\"animated zoomIn\",\"leave-active-class\":\"animated fadeOutUp slow\"}},[(_vm.isVisible || _vm.hasSearched)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isVisible),expression:\"isVisible\"}],staticClass:\"search__box card\"},[_vm._t(\"header\",[_c('header',{staticClass:\"search__header card-header\"},[_c('div',{staticClass:\"search__input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.localTerm),expression:\"localTerm\"}],ref:\"input\",staticClass:\"search__input form-control form-control-lg\",attrs:{\"type\":\"search\",\"autocomplete\":\"off\",\"placeholder\":_vm.i19searchProducts},domProps:{\"value\":(_vm.localTerm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.localTerm=$event.target.value}}}),_c('button',{staticClass:\"search__submit\",attrs:{\"type\":\"submit\",\"aria-label\":_vm.i19search}},[_c('i',{staticClass:\"fas fa-search\"})])]),_c('div',{staticClass:\"search__status\"},[(_vm.isSearching)?_c('div',{staticClass:\"search__spinner spinner-grow\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_vm._e(),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":_vm.i19close},on:{\"click\":_vm.hide}},[_c('i',{staticClass:\"fas fa-times-circle\"})])])])],null,{ isSearching: _vm.isSearching }),_c('article',{staticClass:\"search__body card-body\"},[_vm._t(\"search-engine\",[_c('SearchEngine',_vm._b({attrs:{\"term\":_vm.searchTerm,\"is-filterable\":false,\"product-card-props\":_vm.productCardProps},on:{\"update:term\":function($event){_vm.searchTerm=$event},\"fetch\":_vm.handleFetching,\"search\":_vm.handleSearch}},'SearchEngine',Object.assign({}, _vm.searchEngineProps, {pageSize: _vm.pageSize, autoFixScore: _vm.autoFixScore}),false),[_c('div',{staticClass:\"search__loading spinner-border\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])])])],null,{ term: _vm.searchTerm })],2),_c('footer',{staticClass:\"search__footer card-footer\"},[_vm._t(\"count-results\",[_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown\"}},[(_vm.hasSearched)?_c('div',{staticClass:\"search__count\"},[_c('strong',[_vm._v(_vm._s(_vm.totalSearchResults))]),_vm._v(\" \"+_vm._s(_vm.i19items.toLowerCase())+\" \"),(_vm.totalSearchResults > _vm.pageSize)?_c('button',{staticClass:\"ml-2 btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm.i19seeAll)+\" \")]):_vm._e()]):_vm._e()])],null,{ hasSearched: _vm.hasSearched, totalSearchResults: _vm.totalSearchResults }),_vm._t(\"history\",[_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown\"}},[(_vm.history.length)?_c('div',{staticClass:\"search__history d-none d-lg-block\"},[_c('i',{staticClass:\"fas fa-history\"}),_vm._l((_vm.history),function(term){return _c('a',{staticClass:\"search__history-link\",attrs:{\"href\":\"#\"},domProps:{\"textContent\":_vm._s(term)},on:{\"click\":function($event){$event.preventDefault();return _vm.setSearchTerm(term)}}})})],2):_vm._e()])],null,{ history: _vm.history })],2)],2):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*!\n * @ecomplus/widget-search\n * (c) E-Com Club <ti@e-com.club>\n * Released under the MIT License.\n */\n\nimport Vue from 'vue'\nimport InstantSearch from '#components/InstantSearch.vue'\n\nexport default (options = {}, elId = 'instant-search', inputId = 'search-input') => {\n  const $instantSearch = document.getElementById(elId)\n  const $searchInput = document.getElementById(inputId)\n  if ($instantSearch && $searchInput) {\n    const getScopedSlots = window.storefront && window.storefront.getScopedSlots\n\n    new Vue({\n      data: {\n        isVisible: false,\n        term: ''\n      },\n      created () {\n        $searchInput.addEventListener('focusin', () => {\n          this.isVisible = true\n          this.term = $searchInput.value\n        })\n      },\n\n      render (createElement) {\n        const vm = this\n        return createElement(InstantSearch, {\n          attrs: {\n            id: elId\n          },\n          props: {\n            ...options.props,\n            term: vm.term,\n            isVisible: vm.isVisible\n          },\n          on: {\n            'update:is-visible' (isVisible) {\n              vm.isVisible = isVisible\n            },\n            'update:term' (term) {\n              $searchInput.value = term\n            }\n          },\n          scopedSlots: typeof getScopedSlots === 'function'\n            ? getScopedSlots($instantSearch, createElement)\n            : undefined\n        })\n      }\n    }).$mount($instantSearch)\n  }\n}\n"],"sourceRoot":""}